{"ast":null,"code":"import React,{useState,useEffect,useRef}from\"react\";import\"./movie-list.css\";import MovieItem from\"./MovieItem.jsx\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MovieList(_ref){let{items,rankDisplayScope,onMovieSelect}=_ref;const[isAtStart,setIsAtStart]=useState(true);const[isAtEnd,setIsAtEnd]=useState(false);const movieListRef=useRef(null);const scrollAmount=900;// 스크롤할 양, 필요에 따라 조정\nconst scrollLeft=()=>{if(movieListRef.current){const newScrollPosition=movieListRef.current.scrollLeft-scrollAmount;movieListRef.current.scrollTo({left:newScrollPosition,behavior:'smooth'});}};const scrollRight=()=>{if(movieListRef.current){const newScrollPosition=movieListRef.current.scrollLeft+scrollAmount;movieListRef.current.scrollTo({left:newScrollPosition,behavior:'smooth'});}};const checkScrollPosition=()=>{const container=movieListRef.current;if(!container)return;const isAtStart=container.scrollLeft<=0;const isAtEnd=container.scrollLeft+container.offsetWidth>=container.scrollWidth;setIsAtStart(isAtStart);setIsAtEnd(isAtEnd);};useEffect(()=>{const container=movieListRef.current;if(container){container.addEventListener('scroll',checkScrollPosition);checkScrollPosition();// 초기 위치 체크\n}return()=>{if(container){container.removeEventListener('scroll',checkScrollPosition);}};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"movie-list-container\",children:[!isAtStart&&/*#__PURE__*/_jsx(\"button\",{id:\"left\",className:\"scroll-button\",onClick:scrollLeft,children:/*#__PURE__*/_jsx(\"img\",{src:\"/left-arrow.png\",alt:\"\"})}),/*#__PURE__*/_jsx(\"section\",{className:\"movie-list\",ref:movieListRef,children:items.map((item,key)=>/*#__PURE__*/_jsx(MovieItem,{index:key,item:item,isRankDisplay:key<rankDisplayScope||rankDisplayScope===undefined,onMovieSelect:onMovieSelect},key))}),!isAtEnd&&/*#__PURE__*/_jsx(\"button\",{id:\"right\",className:\"scroll-button\",onClick:scrollRight,children:/*#__PURE__*/_jsx(\"img\",{src:\"/right-arrow.png\",alt:\"\"})})]});}export default MovieList;","map":{"version":3,"names":["React","useState","useEffect","useRef","MovieItem","jsx","_jsx","jsxs","_jsxs","MovieList","_ref","items","rankDisplayScope","onMovieSelect","isAtStart","setIsAtStart","isAtEnd","setIsAtEnd","movieListRef","scrollAmount","scrollLeft","current","newScrollPosition","scrollTo","left","behavior","scrollRight","checkScrollPosition","container","offsetWidth","scrollWidth","addEventListener","removeEventListener","className","children","id","onClick","src","alt","ref","map","item","key","index","isRankDisplay","undefined"],"sources":["/Users/duky8n/Developement/react/ceo2/src/components/MovieList.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport \"./movie-list.css\";\nimport MovieItem from \"./MovieItem.jsx\";\n\nfunction MovieList({ items, rankDisplayScope, onMovieSelect }) {\n    const [isAtStart, setIsAtStart] = useState(true);\n    const [isAtEnd, setIsAtEnd] = useState(false);\n    const movieListRef = useRef(null);\n    const scrollAmount = 900; // 스크롤할 양, 필요에 따라 조정\n\n    const scrollLeft = () => {\n        if (movieListRef.current) {\n            const newScrollPosition = movieListRef.current.scrollLeft - scrollAmount;\n            movieListRef.current.scrollTo({ left: newScrollPosition, behavior: 'smooth' });\n        }\n    };\n\n    const scrollRight = () => {\n        if (movieListRef.current) {\n            const newScrollPosition = movieListRef.current.scrollLeft + scrollAmount;\n            movieListRef.current.scrollTo({ left: newScrollPosition, behavior: 'smooth' });\n        }\n    };\n\n    const checkScrollPosition = () => {\n        const container = movieListRef.current;\n        if (!container) return;\n\n        const isAtStart = container.scrollLeft <= 0;\n        const isAtEnd = container.scrollLeft + container.offsetWidth >= container.scrollWidth;\n\n        setIsAtStart(isAtStart);\n        setIsAtEnd(isAtEnd);\n    };\n\n    useEffect(() => {\n        const container = movieListRef.current;\n        if (container) {\n            container.addEventListener('scroll', checkScrollPosition);\n            checkScrollPosition(); // 초기 위치 체크\n        }\n\n        return () => {\n            if (container) {\n                container.removeEventListener('scroll', checkScrollPosition);\n            }\n        };\n    }, []);\n\n    return (\n        <div className=\"movie-list-container\">\n            {!isAtStart && <button id=\"left\" className=\"scroll-button\" onClick={scrollLeft}><img src=\"/left-arrow.png\" alt=\"\" /></button>}\n            <section className=\"movie-list\" ref={movieListRef}>\n                {items.map((item, key) => (\n                    <MovieItem\n                        key={key}\n                        index={key}\n                        item={item}\n                        isRankDisplay={(key < rankDisplayScope) || (rankDisplayScope === undefined)}\n                        onMovieSelect={onMovieSelect}\n                    />\n                ))}\n            </section>\n            {!isAtEnd && <button id=\"right\" className=\"scroll-button\" onClick={scrollRight}><img src=\"/right-arrow.png\" alt=\"\" /></button>}\n        </div>\n    );\n}\n\nexport default MovieList;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}